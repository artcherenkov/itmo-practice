### Опубликованное веб-приложение: https://itmo-practice.acherenkov.tech/mindmap. 

---

### Инструкция для локального запуска
#### Требования
- Установленный Docker
- Node.js версии 20 и новее
#### Инструкция
- Склонировать репозиторий
- Запустить фронтенд
```shell
  cd frontend
  npm i 
  npm run dev
```
- Запустить бэкенд
```shell
  docker compose -f docker-compose.local.yml --build -d
```
- Бэкенд будет доступен по адресу http://localhost:3000/
- Фронтенд будет доступен по адресу http://localhost:5173/

---

### Описание REST API

---

#### **GET** `/api/terms`
**Описание:** Возвращает все термины из базы данных с их связями.  
**Пример ответа:**
```json
[
  {
    "_id": "1",
    "term": "Frontend",
    "definition": "Часть приложения, взаимодействующая с пользователем.",
    "relations": [
      {
        "target": {
          "_id": "2",
          "term": "HTML",
          "definition": "Язык гипертекстовой разметки."
        },
        "relationType": "зависит от"
      }
    ]
  },
  ...
]
```

---

#### **POST** `/api/terms`
**Описание:** Создает новый термин.  
**Пример тела запроса:**
```json
{
  "term": "Frontend",
  "definition": "Часть приложения, взаимодействующая с пользователем.",
  "references": [],
  "relations": [
    {
      "target": "60d21b4667d0d8992e610c85",
      "relationType": "зависит от"
    }
  ]
}
```
**Пример ответа:**
```json
{
  "_id": "60d21b4667d0d8992e610c86",
  "term": "Frontend",
  "definition": "Часть приложения, взаимодействующая с пользователем.",
  "relations": [],
  "__v": 0
}
```

---

#### **PUT** `/api/terms/:id`
**Описание:** Обновляет связи термина по его ID.  
**Пример тела запроса:**
```json
{
  "relations": [
    {
      "target": "60d21b4667d0d8992e610c87",
      "relationType": "включает"
    },
    {
      "target": "60d21b4667d0d8992e610c88",
      "relationType": "зависит от"
    }
  ]
}
```
**Пример ответа:**
```json
{
  "_id": "60d21b4667d0d8992e610c86",
  "term": "Frontend",
  "definition": "Часть приложения, взаимодействующая с пользователем.",
  "relations": [
    {
      "target": "60d21b4667d0d8992e610c87",
      "relationType": "включает"
    },
    {
      "target": "60d21b4667d0d8992e610c88",
      "relationType": "зависит от"
    }
  ],
  "__v": 0
}
```

---

#### **DELETE** `/api/terms/:id`
**Описание:** Удаляет термин по его ID.  
**Пример ответа:**
```json
{
  "message": "Термин успешно удален"
}
```

---

#### **DELETE** `/api/clear`
**Описание:** Удаляет все термины из базы данных.  
**Пример ответа:**
```json
{
  "message": "База данных успешно очищена"
}
```

---

#### **POST** `/api/seed`
**Описание:** Заполняет базу данных начальными данными.  
**Пример ответа:**
```json
{
  "message": "Начальные данные успешно добавлены",
  "terms": [
    {
      "_id": "60d21b4667d0d8992e610c86",
      "term": "Frontend",
      "definition": "Часть приложения, взаимодействующая с пользователем.",
      "relations": []
    },
    ...
  ]
}
```

---

#### **GET** `/api/terms/pretty`
**Описание:** Возвращает данные в формате графа для визуализации.  
**Пример ответа:**
```json
{
  "nodes": [
    {
      "id": "60d21b4667d0d8992e610c86",
      "data": { "label": "Frontend" },
      "position": { "x": 100, "y": 200 }
    },
    ...
  ],
  "edges": [
    {
      "id": "e60d21b4667d0d8992e610c86-60d21b4667d0d8992e610c87",
      "source": "60d21b4667d0d8992e610c86",
      "target": "60d21b4667d0d8992e610c87",
      "label": "зависит от"
    }
  ]
}
```

---

#### **GET** `/api/terms/glossary`
**Описание:** Возвращает список терминов с краткой информацией.  
**Пример ответа:**
```json
[
  {
    "id": "60d21b4667d0d8992e610c86",
    "title": "Frontend",
    "description": "Часть приложения, взаимодействующая с пользователем."
  },
  ...
]
```
